package com.examples.ejb.client;

import java.io.FileNotFoundException;
import java.io.IOException;
import java.util.Hashtable;

import javax.naming.Context;
import javax.naming.InitialContext;
import javax.naming.NamingException;

import com.exmaples.ejb.server.EJBServer;

public class EJBClient {

	public static void main(String args[]) throws NamingException, FileNotFoundException, IOException, InterruptedException {

		System.out.println("EJB client-1");
		// listSystemProperties();
		int i = 0;
		while(i++ < 10) {
			Runnable r = new Runnable() {
				
				public void run() {
					// TODO Auto-generated method stub
					System.out.println("oi");
	
				}
			};
			new Thread(r).run();
		}

	}

	public static void callEJBServer() throws NamingException, FileNotFoundException, IOException, InterruptedException {

        final Hashtable<String, String> jndiProperties = new Hashtable<String, String>();
        jndiProperties.put(Context.URL_PKG_PREFIXES, "org.jboss.ejb.client.naming");
        Context context = new InitialContext(jndiProperties);

        EJBServer ejb = (EJBServer) context.lookup("ejb:/ejb-server/EJBServerImpl!com.exmaples.ejb.server.EJBServer");
        System.out.println("Result: " + ejb.execute());

	}
}